<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Masc√°ras</title>
</head>

<body>
    <div class="content">
        <div class="item">
            <h1>Percent</h1>
            <input id="percent" type="text" onkeydown="Mask.apply(this,'formatPercent')">
        </div>
        <div class="item">
            <h1>CPF</h1>
            <input id="cpf" type="text" maxlength="14" onkeydown="Mask.apply(this,'formatCPF') ">
        </div>

    </div>
</body>
<script>
    const Mask = {
        apply(input, func) {
            //input.value = input.value.replace(/\D/g, '')
            setTimeout(() => {
                input.value = Mask[func](input.value)
            }, 1)
        },
        formatCPF(value) {
            value = value.replace(/\D/g, "");

            value = value.replace(/(\d{3})(\d)/, "$1.$2")

            value = value.replace(/(\d{3})(\d)/, "$1.$2")

            value = value.replace(/(\d{3})(\d)/, "$1-$2")

            return value
        },
        formatPercent(value) {
            value = value.replace(/\D/g, '')
            console.log(value)
            return new Intl.NumberFormat('pt-BR', {
                style: 'percent',
                minimumFractionDigits: 2,
                maximumFractionDigits: 4
            }).format(value / 10000)
        }
    }
</script>

</html>